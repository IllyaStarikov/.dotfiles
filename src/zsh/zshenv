# ZSH Environment Configuration - Loaded for all Zsh instances
# This file is sourced first for all Zsh sessions (login, interactive, scripts)
# Documentation: https://zsh.sourceforge.io/Intro/intro_3.html

# Unset HOMEBREW_CELLAR to prevent issues with non-standard Homebrew installations
# on corporate machines. This allows Homebrew to use its default Cellar location.
unset HOMEBREW_CELLAR

# Basic PATH setup - User binaries take precedence
export PATH=$HOME/bin:$HOME/.local/bin:$PATH

# Add platform-specific paths
case "$OSTYPE" in
    darwin*)
        # macOS paths
        [[ -d "/usr/local/bin" ]] && export PATH="/usr/local/bin:$PATH"
        [[ -d "/opt/homebrew/bin" ]] && export PATH="/opt/homebrew/bin:$PATH"
        ;;
    linux*)
        # Linux paths
        [[ -d "/usr/local/bin" ]] && export PATH="/usr/local/bin:$PATH"
        ;;
esac


# Zinit configuration
export ZINIT_HOME="${XDG_DATA_HOME:-${HOME}/.local/share}/zinit/zinit.git"

export KEYTIMEOUT=1  # Default: 40 (faster vim mode switching)

# Editor configuration
if [[ $SSH_CONNECTION ]]; then
   export EDITOR='vim'
else
   export VISUAL=nvim
   export EDITOR="$VISUAL"
fi
# Rust configuration
[[ -f "$HOME/.cargo/env" ]] && source "$HOME/.cargo/env"
