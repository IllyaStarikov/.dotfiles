# Minimal Git Configuration - Only Essential Settings

[user]
    name = Illya Starikov
    email = illya@starikov.co

[core]
    editor = nvim
    pager = delta
	  excludesfile = ~/.gitignore

[init]
    defaultBranch = main

[pull]
    rebase = true  # Default: false (cleaner history)

[push]
    # default "simple" is already default in Git 2.0+
    autoSetupRemote = true  # Default: false (auto-track remote branches)

[merge]
    conflictstyle = zdiff3  # Default: merge (better conflict markers)

[diff]
    algorithm = histogram  # Default: myers (better diff algorithm)
    # colorMoved "default" is already default

[commit]
    template = ~/.gitmessage
    gpgsign = true

# Essential Aliases Only (15 max)
[alias]
    # Status/Info
    s = status -sb
    l = log --oneline --graph --decorate -20

    # Basic operations
    a = add
    c = commit
    p = push
    pl = pull
    co = checkout
    b = branch

    # Useful shortcuts
    aa = add --all
    cm = commit -m
    undo = reset --soft HEAD~1
    amend = commit --amend --no-edit

    # Workflow
    main = checkout main
    wip = !git add -A && git commit -m 'WIP'

# Colors
# color.ui "auto" is already default in modern Git

# Delta configuration (pager for better diffs)
[delta]
    navigate = true       # Default: false (n/N navigation)
    # light false is default
    side-by-side = true   # Default: false (split view)
    line-numbers = true   # Default: false (show line numbers)

# Performance
[pack]
    threads = 0  # Default: 1 (use all CPU cores)

# Credential helper for GitHub
[credential "https://github.com"]
    helper =
    helper = !/opt/homebrew/bin/gh auth git-credential

# Security and performance enhancements
[gpg]
    # Use SSH key for signing if available (easier than GPG)
    format = ssh

[user]
    # Point to your SSH key for signing (update path as needed)
	signingkey = ~/.ssh/id_rsa.pub

[transfer]
    fsckobjects = true  # Default: false (verify objects for corruption)

[receive]
    fsckobjects = true  # Default: false (verify received objects)

[fetch]
    fsckobjects = true  # Default: false (verify fetched objects)

# maintenance section removed - defaults are already optimal

# Performance optimizations
[pack]
    threads = 0          # Already set above, duplicate section
    windowMemory = 256m  # Default: unlimited (limit for large repos)
    packSizeLimit = 2g   # Default: unlimited (GitHub limit)

[core]
    # preloadindex true is already default
    # fscache is Windows-only
    untrackedCache = true # Default: false (speeds up status)

[diff]
    # algorithm histogram already set above
    renameLimit = 10000   # Default: 400 (handle more renames)

[merge]
    # conflictstyle zdiff3 already set above
    renameLimit = 10000   # Default: 1000 (handle more renames)

[gc]
    auto = 256           # Default: 6700 (gc more frequently)
    # autopacklimit 50 is already default
[filter "lfs"]
	clean = git-lfs clean -- %f
	smudge = git-lfs smudge -- %f
	process = git-lfs filter-process
	required = true
