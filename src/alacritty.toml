# Alacritty Configuration - Fast terminal emulator
# Optimized for Neovim, tmux, and Zsh integration

# Keyboard Bindings - macOS Native + Power User Shortcuts

# Core macOS shortcuts
[[keyboard.bindings]]
action = "SpawnNewInstance"
key = "N"
mods = "Command"

[[keyboard.bindings]]
action = "Quit"
key = "Q"
mods = "Command"

[[keyboard.bindings]]
action = "ToggleFullscreen"
key = "Return"
mods = "Command"

# Clipboard - Cmd+C and Cmd+V are defaults, removed

# Advanced text selection - Command+A is handled by default

# Window management
[[keyboard.bindings]]
action = "Hide"
key = "H"
mods = "Command"

[[keyboard.bindings]]
action = "Minimize"
key = "M"
mods = "Command"

# Font size control
[[keyboard.bindings]]
action = "IncreaseFontSize"
key = "Plus"
mods = "Command"

[[keyboard.bindings]]
action = "DecreaseFontSize"
key = "Minus"
mods = "Command"

[[keyboard.bindings]]
action = "ResetFontSize"
key = "Key0"
mods = "Command"

# Search functionality
[[keyboard.bindings]]
action = "SearchForward"
key = "F"
mods = "Command"

[[keyboard.bindings]]
action = "SearchBackward"
key = "B"
mods = "Command|Shift"

# Window/Tab management - Alacritty doesn't support tabs, only windows
[[keyboard.bindings]]
action = "CreateNewWindow"
key = "T"
mods = "Command"

# Use tmux for tab-like functionality
# [[keyboard.bindings]]
# chars = "\u0001c"  # Ctrl-A c (new tmux window)
# key = "T"
# mods = "Command"

[[keyboard.bindings]]
chars = "\u0001n"      # Ctrl-A n (next tmux window)
key = "]"
mods = "Command|Shift"

[[keyboard.bindings]]
chars = "\u0001p"      # Ctrl-A p (previous tmux window)
key = "["
mods = "Command|Shift"

# Clear terminal (Cmd+K)
[[keyboard.bindings]]
chars = "\u000c" # Ctrl-L
key = "K"
mods = "Command"

# üéµ AUDIO & VISUAL FEEDBACK

[bell]
animation = "EaseOutExpo"
color = "0x88c0d0"        # Nord-inspired blue
duration = 100            # Brief visual feedback
command = "None"          # No audio bell for productivity

# ‚öôÔ∏è GENERAL CONFIGURATION

[general]
import = ["~/.config/alacritty/theme.toml"]
# live_config_reload true is default

# üé® COLOR CONFIGURATION

[colors]
draw_bold_text_with_bright_colors = true # Default: false (better visibility)
transparent_background_colors = true     # Default: false (transparency support)

# üåç ENVIRONMENT VARIABLES

[env]
TERM = "alacritty"      # Use alacritty terminfo for better compatibility
COLORTERM = "truecolor"
# Ensure UTF-8 locale for proper symbol rendering
LANG = "en_US.UTF-8"
LC_ALL = "en_US.UTF-8"
LC_CTYPE = "en_US.UTF-8"

# üìú SCROLLING & HISTORY

[scrolling]
history = 50000 # Default: 10000 (more history for debugging)
# multiplier removed - default 3 is already optimal

# üìù TEXT SELECTION & CLIPBOARD

[selection]
save_to_clipboard = true # Default: false (auto-copy is useful)
# semantic_escape_chars default is already optimal

# üñºÔ∏è WINDOW CONFIGURATION

[window]
# decorations "full" is default
# dynamic_title true is default
# opacity 1.0 is default
# startup_mode "Windowed" is default
resize_increments = true # Default: false (resize by character grid)
option_as_alt = "Both"   # Default: "None" (proper Alt key on macOS)

# macOS specific window options
# decorations_theme_variant "None" is default

[window.dimensions]
columns = 120 # Default: 80 (wider window)
lines = 40    # Default: 24 (taller window)

[window.padding]
x = 8 # Default: 0 (breathing room)
y = 8 # Default: 0 (breathing room)

# window.position removed - let window manager decide

# üñãÔ∏è FONT CONFIGURATION (Enhanced)

[font]
size = 18.0 # More reasonable default font size
# Enable built-in font fallbacks for better symbol support
builtin_box_drawing = true # Enable for better box drawing character rendering

# Enable ligatures for JetBrainsMono
# IMPORTANT: Use "JetBrainsMono Nerd Font" (NOT "Mono" variant) for ligatures!
# The "Mono" variant specifically disables ligatures


[font.normal]
# JetBrainsMono Nerd Font with ligatures enabled
family = "JetBrainsMono Nerd Font"
style = "Regular"

[font.bold]
family = "JetBrainsMono Nerd Font" # Ligatures work here too
style = "Bold"

[font.italic]
family = "JetBrainsMono Nerd Font" # Ligatures work here too
style = "Italic"

[font.bold_italic]
family = "JetBrainsMono Nerd Font" # Ligatures work here too
style = "Bold Italic"

# Font rendering optimizations
[font.offset]
y = 1 # Only non-default value

# üñ±Ô∏è MOUSE CONFIGURATION

[mouse]
# hide_when_typing true is default

[[mouse.bindings]]
mouse = "Middle"
action = "PasteSelection"

[[mouse.bindings]]
mouse = "Right"
action = "ExpandSelection"

[[mouse.bindings]]
mouse = "Left"
mods = "Command"
action = "ExpandSelection"

# üî≤ CURSOR CONFIGURATION - Visibility and Style

[cursor]
# Cursor style
style = { shape = "Block", blinking = "On" }

# Vi mode cursor style (when vi mode is enabled)
vi_mode_style = { shape = "Block", blinking = "Off" }

# Cursor blinking interval in milliseconds
blink_interval = 750

# Stop blinking after 15 seconds of inactivity (0 = always blink)
blink_timeout = 15

# üêû DEBUG CONFIGURATION

[debug]
log_level = "Warn" # Only non-default setting
# ref_test = false  # Removed - not a valid config option

# üìù VI MODE CONFIGURATION

# VI mode toggle
[[keyboard.bindings]]
key = "Space"
mods = "Shift|Control"
action = "ToggleViMode"

# VI mode navigation
[[keyboard.bindings]]
key = "K"
mods = "Control"
mode = "Vi"
action = "ScrollLineUp"

[[keyboard.bindings]]
key = "J"
mods = "Control"
mode = "Vi"
action = "ScrollLineDown"

[[keyboard.bindings]]
key = "U"
mods = "Control"
mode = "Vi"
action = "ScrollHalfPageUp"

[[keyboard.bindings]]
key = "D"
mods = "Control"
mode = "Vi"
action = "ScrollHalfPageDown"

[[keyboard.bindings]]
key = "B"
mods = "Control"
mode = "Vi"
action = "ScrollPageUp"

[[keyboard.bindings]]
key = "F"
mods = "Control"
mode = "Vi"
action = "ScrollPageDown"

[[keyboard.bindings]]
key = "G"
mode = "Vi"
action = "ScrollToBottom"

[[keyboard.bindings]]
key = "G"
mods = "Shift"
mode = "Vi"
action = "ScrollToTop"

# üîç SEARCH BINDINGS

[[keyboard.bindings]]
key = "Return"
mode = "Search"
action = "SearchFocusNext"

[[keyboard.bindings]]
key = "Return"
mods = "Shift"
mode = "Search"
action = "SearchFocusPrevious"

[[keyboard.bindings]]
key = "Escape"
mode = "Search"
action = "SearchCancel"

[[keyboard.bindings]]
key = "C"
mods = "Control"
mode = "Search"
action = "SearchCancel"

[[keyboard.bindings]]
key = "U"
mods = "Control"
mode = "Search"
action = "SearchClear"

[[keyboard.bindings]]
key = "N"
mode = "Search"
action = "SearchFocusNext"

[[keyboard.bindings]]
key = "N"
mods = "Shift"
mode = "Search"
action = "SearchFocusPrevious"
